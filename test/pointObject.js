const assert = require('assert')
const po = require('../lib/createPointObject')

describe('CreatePointObject', () => {
  describe('点オブジェクトの作成', () => {
    const simasplited = JSON.parse(
      `["G00,02,-,","A00,","A01,1,T-5965,-24010.239,-32836.454,0.000,","A01,2,T-5937,-24008.155,-32840.524,0.000,","A01,3,T-5929,-24007.639,-32838.362,0.000,","A01,4,T-5926,-24007.337,-32837.018,0.000,","A99,","D00,1,446-2,1,","B01,4,T-5926,","B01,3,T-5929,","B01,2,T-5937,","B01,1,T-5965,","D99,",""]`
    )
    const simasplitedSpaced = JSON.parse(
      `["G00,02,-,","A00,","A01,     1,T-5965                         , -24010.239, -32836.454,     0.000,","A01,     2,T-5937                         , -24008.155, -32840.524,     0.000,","A01,     3,                         T-5929, -24007.639, -32838.362,     0.000,","A01,     4,                         T-5926, -24007.337, -32837.018,     0.000,","A99,","D00,    1,446-2     ,1,","B01,    4,T-5926                         ,","B01,    3,T-5929                         ,","B01,    2,T-5937                         ,","B01,    1,T-5965                         ,","D99,",""]`
    )
    const result =
      '{"1":[139.47010288722936,35.78303749470585],"2":[139.47005778103122,35.78305614260324],"3":[139.47008167506849,35.78306086575214],"4":[139.47009652948714,35.783063632701186]}'

    it('点オブジェクトの作成', () => {
      assert.equal(JSON.stringify(po(simasplited, '6677')), result)
    })
    it('空白埋めから点オブジェクトの作成', () => {
      assert.equal(JSON.stringify(po(simasplitedSpaced, '6677')), result)
    })
  })
})
